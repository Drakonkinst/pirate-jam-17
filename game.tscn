[gd_scene load_steps=21 format=3 uid="uid://bybush3bov5mf"]

[ext_resource type="Script" uid="uid://day3fen83ytpk" path="res://game.gd" id="1_80nbo"]
[ext_resource type="Script" uid="uid://ebhkhibch51g" path="res://camera_control.gd" id="2_fc0e3"]
[ext_resource type="Texture2D" uid="uid://crboolrfwew5k" path="res://ui/crosshair/0381.png" id="2_iotsf"]
[ext_resource type="PackedScene" uid="uid://do2ht3l1tvwuj" path="res://player/player.tscn" id="3_fc0e3"]
[ext_resource type="Texture2D" uid="uid://cpv0kejasrfjx" path="res://world/placeholder_dark.png" id="5_7jktm"]
[ext_resource type="Texture2D" uid="uid://s68ydljo1fu0" path="res://world/placeholder_orange.png" id="5_eow3j"]
[ext_resource type="PackedScene" uid="uid://dr2ayqxiwwccw" path="res://hook/grappling_hook_controller.tscn" id="5_ryrav"]
[ext_resource type="PackedScene" uid="uid://b0nt4n13a6448" path="res://addons/starlight/Stars.tscn" id="7_j5wjh"]
[ext_resource type="Script" uid="uid://k0joa5bluso1" path="res://addons/starlight/StarGenerator.gd" id="8_vef74"]
[ext_resource type="PackedScene" uid="uid://du1cn8wac3awi" path="res://object/chair.tscn" id="9_iotsf"]
[ext_resource type="PackedScene" uid="uid://db0uepma3ku82" path="res://object/stairs.tscn" id="9_lc2xo"]
[ext_resource type="PackedScene" uid="uid://d153vfgmc4r6i" path="res://object/crew_door.tscn" id="10_215e1"]
[ext_resource type="PackedScene" uid="uid://7qu2ni5oun14" path="res://object/button/small_button.tscn" id="11_7sc4i"]
[ext_resource type="PackedScene" uid="uid://dcbw7u3qosfgt" path="res://object/table.tscn" id="11_iotsf"]
[ext_resource type="Material" uid="uid://kk08pth2ah1v" path="res://object/light.tres" id="15_80cx4"]

[sub_resource type="Environment" id="Environment_80nbo"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_eow3j"]
albedo_texture = ExtResource("5_7jktm")
uv1_triplanar = true
uv2_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ryrav"]
albedo_texture = ExtResource("5_eow3j")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_j5wjh"]
albedo_texture = ExtResource("5_eow3j")
uv1_triplanar = true
uv2_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_215e1"]

[node name="Game" type="Node3D"]
script = ExtResource("1_80nbo")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="CenterContainer" type="CenterContainer" parent="CanvasLayer/Control"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -32.0
offset_top = -32.0
offset_right = 32.0
offset_bottom = 32.0
grow_horizontal = 2
grow_vertical = 2

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/Control/CenterContainer"]
layout_mode = 2
texture = ExtResource("2_iotsf")

[node name="Stars" parent="." instance=ExtResource("7_j5wjh")]
script = ExtResource("8_vef74")
size = 5000.0
star_count = 7000
rng_seed = 1161
generate_at_origin = false
shader_params/max_luminosity = 200000.0

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("player")]
transform = Transform3D(1, 0, 0, 0, 0.9637423, 0.26683468, 0, -0.26683468, 0.9637423, 0, 7.0381637, 9.739521)
script = ExtResource("2_fc0e3")
player = NodePath("../Player")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_80nbo")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.7526793, 0.37095207, -0.54393804, 0.61035573, -0.083371975, 0.7877277, 0.24686007, -0.924902, -0.28916505, -6.6442285, 34.45208, -79.30257)
light_energy = 2.0

[node name="Player" parent="." instance=ExtResource("3_fc0e3")]
unique_name_in_owner = true
transform = Transform3D(0.8660254, 0, 0.5, 0, 1, 0, -0.5, 0, 0.8660254, 4.154346, 7.5875006, 5.310762)

[node name="SpawnPoint" type="Marker3D" parent="."]
transform = Transform3D(0.8660254, 0, 0.5, 0, 1, 0, -0.5, 0, 0.8660254, 4.154346, 7.5875006, 5.310762)

[node name="World" type="Node3D" parent="."]

[node name="Section1" type="Node3D" parent="World"]

[node name="Layout" type="CSGCombiner3D" parent="World/Section1" groups=["Surface"]]
layers = 3
material_override = SubResource("StandardMaterial3D_eow3j")
use_collision = true
collision_layer = 3
collision_mask = 2

[node name="BigBox" type="CSGBox3D" parent="World/Section1/Layout" groups=["Surface"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -28.333351, 8.003808, -10.243292)
material_override = SubResource("StandardMaterial3D_ryrav")
use_collision = true
collision_layer = 3
size = Vector3(76.610504, 21.05719, 36.64491)

[node name="StartingRoom" type="CSGBox3D" parent="World/Section1/Layout" groups=["Surface"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 9.749932, 0.18579102)
material_override = SubResource("StandardMaterial3D_ryrav")
operation = 2
use_collision = true
collision_layer = 3
size = Vector3(9, 7, 11.6)

[node name="BonusRoom" type="CSGBox3D" parent="World/Section1/Layout" groups=["Surface"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.2393866, 9.749932, -18.320717)
material_override = SubResource("StandardMaterial3D_ryrav")
operation = 2
use_collision = true
collision_layer = 3
size = Vector3(9, 7, 11.681641)

[node name="StartingDoorway" type="CSGBox3D" parent="World/Section1/Layout"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.5520175, 8.182664, -6.0059123)
operation = 2
size = Vector3(2.1351318, 3.8735352, 1.0733871)

[node name="LockedDoorway" type="CSGBox3D" parent="World/Section1/Layout"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.301253, 8.182664, -6.0059123)
operation = 2
size = Vector3(2.1351318, 3.8735352, 1.0733871)

[node name="BonusDoorway" type="CSGBox3D" parent="World/Section1/Layout"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.8291006, 8.182664, -12.234159)
operation = 2
size = Vector3(2.1351318, 3.8735352, 1.0733871)

[node name="StartingChamber" type="CSGCylinder3D" parent="World/Section1/Layout"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.339243, 7.925015, 5.8785768)
operation = 2
radius = 1.6948242
height = 3.349929
sides = 16

[node name="Hallway" type="CSGBox3D" parent="World/Section1/Layout" groups=["Surface"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.723189, 8.9587, -9.049553)
material_override = SubResource("StandardMaterial3D_ryrav")
operation = 2
use_collision = true
collision_layer = 3
size = Vector3(38.7936, 5.6, 5.5)

[node name="CafeteriaUpper" type="CSGBox3D" parent="World/Section1/Layout" groups=["Surface"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -41.25534, 11.769106, -16.716927)
material_override = SubResource("StandardMaterial3D_ryrav")
operation = 2
use_collision = true
collision_layer = 3
size = Vector3(22.800001, 11.2, 21.69646)

[node name="CafeteriaWindow" type="CSGBox3D" parent="World/Section1/Layout" groups=["Surface"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -41.18084, 9.68096, -27.807423)
material_override = SubResource("StandardMaterial3D_ryrav")
operation = 2
use_collision = true
collision_layer = 3
size = Vector3(18.627386, 12.033212, 6.067511)

[node name="CafeteriaLower" type="CSGBox3D" parent="World/Section1/Layout" groups=["Surface"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -41.25534, 4.570066, -21.264553)
material_override = SubResource("StandardMaterial3D_ryrav")
operation = 2
use_collision = true
collision_layer = 3
size = Vector3(22.800001, 3.4468873, 12.601209)

[node name="HallwayPorthole" type="CSGCylinder3D" parent="World/Section1/Layout"]
transform = Transform3D(0, 1, -4.371139e-08, 0, -4.371139e-08, -1, -1, 0, 8.881784e-16, 9.44278, 9.021694, -9.018097)
operation = 2
radius = 2.2973633
sides = 16

[node name="Decor" type="Node3D" parent="World/Section1"]

[node name="Stairs" parent="World/Section1/Decor" instance=ExtResource("9_lc2xo")]
transform = Transform3D(12.95885, 0, 0, 0, 6.650981, 0, 0, 0, 6.303702, -31.1404, 2.8466187, -16.62439)

[node name="Stairs3" parent="World/Section1/Decor" instance=ExtResource("9_lc2xo")]
transform = Transform3D(12.95885, 0, 0, 0, 6.650981, 0, 0, 0, 6.303702, -50.08966, 2.8466187, -16.62439)

[node name="CSGBox3D2" type="CSGBox3D" parent="World/Section1/Decor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.878305, 6.745204, -2.1346078)
material_override = SubResource("StandardMaterial3D_j5wjh")
size = Vector3(3.251709, 1, 6.6554565)

[node name="CSGBox3D3" type="CSGBox3D" parent="World/Section1/Decor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.878305, 9.682461, -2.1346078)
material_override = SubResource("StandardMaterial3D_j5wjh")
size = Vector3(3.251709, 1, 6.6554565)

[node name="CrewDoor" parent="World/Section1/Decor" instance=ExtResource("10_215e1")]
transform = Transform3D(1, 0, 7.1054274e-15, 0, 1, 0, -7.1054274e-15, 0, 1, -12.157036, 6.0788913, -6.033324)
initial_open = false

[node name="CrewDoor2" parent="World/Section1/Decor" node_paths=PackedStringArray("opening_button") instance=ExtResource("10_215e1")]
transform = Transform3D(-1, 0, -8.7422784e-08, 0, 1, 0, 8.7422784e-08, 0, -1, 2.5766325, 6.0788913, -5.976071)
open_offset = Vector3(-2.5, 0, 0)
initial_open = false
opening_button = NodePath("../SmallButton")

[node name="CrewDoor3" parent="World/Section1/Decor" node_paths=PackedStringArray("opening_button") instance=ExtResource("10_215e1")]
transform = Transform3D(-1, 0, -8.7422784e-08, 0, 1, 0, 8.7422784e-08, 0, -1, -4.852109, 6.0788913, -12.015073)
open_offset = Vector3(-2.5, 0, 0)
initial_open = false
opening_button = NodePath("../SmallButton4")

[node name="SmallButton" parent="World/Section1/Decor" instance=ExtResource("11_7sc4i")]
transform = Transform3D(1, 0, 0, 0, -0.009529371, -0.9999546, 0, 0.9999546, -0.009529371, 0.39249098, 9.32205, -5.7155857)
stay_pressed = true

[node name="SmallButton2" parent="World/Section1/Decor" instance=ExtResource("11_7sc4i")]
transform = Transform3D(1, 0, 0, 0, 0.009529283, 0.9999546, 0, -0.9999546, 0.009529283, 0.39249098, 9.32205, -6.198839)
stay_pressed = true
initial_state = 1

[node name="SmallButton3" parent="World/Section1/Decor" instance=ExtResource("11_7sc4i")]
transform = Transform3D(1, 0, 0, 0, 0.009529283, 0.9999546, 0, -0.9999546, 0.009529283, -2.450296, 9.32205, -12.425535)
stay_pressed = true
initial_state = 1

[node name="SmallButton4" parent="World/Section1/Decor" instance=ExtResource("11_7sc4i")]
transform = Transform3D(-1, 0, -4.656613e-10, 0, 0.009529284, 0.9999547, 8.940697e-08, 0.9999547, -0.009529284, -6.8682294, 9.293613, -11.822015)
stay_pressed = true

[node name="SmallButton5" parent="World/Section1/Decor" instance=ExtResource("11_7sc4i")]
transform = Transform3D(1, 8.741882e-08, -3.674151e-10, -5.551115e-17, 0.009529283, 0.99995464, -1.9841906e-09, -0.99995464, 0.009529283, -14.402953, 9.293613, -6.186837)
stay_pressed = true
initial_state = 2

[node name="Objects" type="Node3D" parent="World/Section1"]

[node name="Chair" parent="World/Section1/Objects" instance=ExtResource("9_iotsf")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -42.469578, 2.843791, -20.27723)

[node name="Chair2" parent="World/Section1/Objects" instance=ExtResource("9_iotsf")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -42.469578, 2.843791, -22.208595)

[node name="Chair3" parent="World/Section1/Objects" instance=ExtResource("9_iotsf")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -42.469578, 2.843791, -24.20399)

[node name="Chair4" parent="World/Section1/Objects" instance=ExtResource("9_iotsf")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -46.983356, 2.843791, -24.182652)

[node name="Chair5" parent="World/Section1/Objects" instance=ExtResource("9_iotsf")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -46.983356, 2.843791, -22.251286)

[node name="Chair6" parent="World/Section1/Objects" instance=ExtResource("9_iotsf")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -46.983356, 2.843791, -20.25589)

[node name="Chair7" parent="World/Section1/Objects" instance=ExtResource("9_iotsf")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -34.8367, 2.843791, -20.27723)

[node name="Chair8" parent="World/Section1/Objects" instance=ExtResource("9_iotsf")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -34.8367, 2.843791, -22.208595)

[node name="Chair9" parent="World/Section1/Objects" instance=ExtResource("9_iotsf")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -34.8367, 2.843791, -24.20399)

[node name="Chair10" parent="World/Section1/Objects" instance=ExtResource("9_iotsf")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -39.35048, 2.843791, -24.182652)

[node name="Chair11" parent="World/Section1/Objects" instance=ExtResource("9_iotsf")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -39.35048, 2.843791, -22.251286)

[node name="Chair12" parent="World/Section1/Objects" instance=ExtResource("9_iotsf")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -39.35048, 2.843791, -20.25589)

[node name="Table" parent="World/Section1/Objects" instance=ExtResource("11_iotsf")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -37.07767, 2.8466184, -22.151909)

[node name="Table2" parent="World/Section1/Objects" instance=ExtResource("11_iotsf")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -44.49088, 2.8466184, -22.151909)
type = 0

[node name="Lights" type="Node3D" parent="World/Section1"]

[node name="OmniLight3D" type="OmniLight3D" parent="World/Section1/Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 12.54784, 0)
light_color = Color(1, 0.8666667, 0.84705883, 1)
light_energy = 3.0
distance_fade_enabled = true
omni_range = 15.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="World/Section1/Lights/OmniLight3D"]
transform = Transform3D(1.5298231, 0, 0, 0, 0.25488234, 0, 0, 0, 3.3426833, 0, 0.64505386, 0)
mesh = SubResource("BoxMesh_215e1")
surface_material_override/0 = ExtResource("15_80cx4")

[node name="OmniLight3D2" type="OmniLight3D" parent="World/Section1/Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.113115, 11.140224, -9.084562)
light_color = Color(1, 0.8666667, 0.84705883, 1)
light_energy = 3.0
distance_fade_enabled = true
omni_range = 30.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="World/Section1/Lights/OmniLight3D2"]
transform = Transform3D(-6.687069e-08, 0, -3.3426833, 0, 0.25488234, 0, 1.529823, 0, -1.4611332e-07, 0, 0.64505386, 0)
mesh = SubResource("BoxMesh_215e1")
surface_material_override/0 = ExtResource("15_80cx4")

[node name="OmniLight3D4" type="OmniLight3D" parent="World/Section1/Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -36, 16.653, -11.344132)
light_color = Color(1, 0.8666667, 0.84705883, 1)
light_energy = 3.0
omni_range = 30.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="World/Section1/Lights/OmniLight3D4"]
transform = Transform3D(-6.318932e-08, 0, -3.3426833, 0, 0.25488234, 0, 1.445603, 0, -1.4611332e-07, 0, 0.645, 0)
mesh = SubResource("BoxMesh_215e1")
surface_material_override/0 = ExtResource("15_80cx4")

[node name="OmniLight3D5" type="OmniLight3D" parent="World/Section1/Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -36, 16.653, -20.018131)
light_color = Color(1, 0.8666667, 0.84705883, 1)
light_energy = 3.0
omni_range = 30.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="World/Section1/Lights/OmniLight3D5"]
transform = Transform3D(-6.318932e-08, 0, -3.3426833, 0, 0.25488234, 0, 1.445603, 0, -1.4611332e-07, 0, 0.64505386, 0)
mesh = SubResource("BoxMesh_215e1")
surface_material_override/0 = ExtResource("15_80cx4")

[node name="OmniLight3D6" type="OmniLight3D" parent="World/Section1/Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -45.961464, 16.653, -11.344132)
light_color = Color(1, 0.8666667, 0.84705883, 1)
light_energy = 7.0
omni_range = 30.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="World/Section1/Lights/OmniLight3D6"]
transform = Transform3D(-6.318932e-08, 0, -3.3426833, 0, 0.25488234, 0, 1.445603, 0, -1.4611332e-07, 0, 0.645, 0)
mesh = SubResource("BoxMesh_215e1")
surface_material_override/0 = ExtResource("15_80cx4")

[node name="OmniLight3D7" type="OmniLight3D" parent="World/Section1/Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -45.961464, 16.653, -20.018131)
light_color = Color(1, 0.8666667, 0.84705883, 1)
light_energy = 7.0
omni_range = 30.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="World/Section1/Lights/OmniLight3D7"]
transform = Transform3D(-6.318932e-08, 0, -3.3426833, 0, 0.25488234, 0, 1.445603, 0, -1.4611332e-07, 0, 0.64505386, 0)
mesh = SubResource("BoxMesh_215e1")
surface_material_override/0 = ExtResource("15_80cx4")

[node name="OmniLight3D3" type="OmniLight3D" parent="World/Section1/Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.534, 11.14, -9.085)
light_color = Color(1, 0.8666667, 0.84705883, 1)
light_energy = 7.0
distance_fade_enabled = true
omni_range = 15.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="World/Section1/Lights/OmniLight3D3"]
transform = Transform3D(-6.687069e-08, 0, -3.3426833, 0, 0.25488234, 0, 1.529823, 0, -1.4611332e-07, 0, 0.64505386, 0)
mesh = SubResource("BoxMesh_215e1")
surface_material_override/0 = ExtResource("15_80cx4")

[node name="GrapplingHookController" parent="." node_paths=PackedStringArray("player") instance=ExtResource("5_ryrav")]
unique_name_in_owner = true
player = NodePath("../Player")
